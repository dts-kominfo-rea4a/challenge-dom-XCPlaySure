<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Challenge - DOM</title>

    <style>
      body{
        background-color: darkkhaki;
        margin-top: 50px;
      }
    </style>
  </head>
  <body>
    <center>
      <div id="app">
        <!-- TODO: Buatlah sebuah header dengan id todo-title -->
        <!-- TODO: Buatlah sebuah subtitle dengan id todo-subtitle -->

        <!-- Section: input -->
        <!-- TODO: Buatlah sebuah input bertipe text dengan id todo-input -->
        <!-- TODO: Buatlah sebuah button dengan id todo-submit -->

        <!-- Section output -->
        <!-- TODO: Buatlah sebuah <ul> dengan id todo-output -->
      </div>
    </center>

    <!-- ! Untuk tantangan ini, script jangan diubah ke external js yah ! -->
    <script>
      const div_app = document.getElementById("app");
      div_app.style.backgroundColor = "white";
      div_app.style.padding = "5px";
      div_app.style.width = "300px";
      div_app.style.minHeight = "300px";
      
      const header = document.createElement("h3");
      header.id = "todo-title";
      header.innerHTML = "To-Do List";
      header.style.textAlign = "center";
      header.style.backgroundColor = "sandybrown";
      header.style.width = "170px";

      const subtitle = document.createElement("span");
      subtitle.id = "todo-subtitle";
      subtitle.innerHTML = "Today worklist";
      subtitle.style.textAlign = "center";

      const text_input = document.createElement("input");
      text_input.id = "todo-input";
      text_input.type = "text";

      const button_submit = document.createElement("button");
      button_submit.id = "todo-submit";
      button_submit.innerHTML = "Submit";

      const todo_list = document.createElement("ul");
      todo_list.id = "todo-output";

      div_app.appendChild(header);
      div_app.appendChild(subtitle);
      div_app.appendChild(document.createElement("br"));
      div_app.appendChild(text_input);
      div_app.appendChild(button_submit);
      div_app.appendChild(document.createElement("br"));
      div_app.appendChild(todo_list);

      // TODO: Deklarasi variable sesuai dengan kebutuhan di sini
      let button = document.getElementById("todo-submit");
      let input = document.getElementById("todo-input");
      let output;

      button.addEventListener("click", fnClickHandler);
      input.focus();

      // TODO: Buatlah sebuah fungsi dengan nama fnClickHandler
      // Fungsi yang digunakan untuk menambahkan tulisan
      // Jangan ubah cara deklarasi fungsinya, cukup isi saja
      function fnClickHandler(toDoItem) {
        output = document.getElementById("todo-output");

        const new_list = document.createElement("li");
        new_list.innerHTML = input.value;
        new_list.style.textAlign = "left";
        output.appendChild(new_list);

        input.value = '';
        input.focus();
      }
      // TODO: register event onclick / addEventListener untuk button
      // akan menjalankan fungsi fnClickHandler

      const keyPressHandler = (key) => {
        const key_code = key.key;

        if(key_code.toLowerCase() === "enter")
          fnClickHandler();
      }

      document.addEventListener("keypress", keyPressHandler);
      // TODO: register event onkeypress / addEventListener untuk input
      // sehingga saat di input ditekan enter akan menjalankan fungsi fnClickHandler juga
    </script>
  </body>
</html>
